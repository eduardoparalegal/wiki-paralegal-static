<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión A#</title>
    <link rel="stylesheet" href="../assets/css/mts.css">
</head>
<body>
    <div class="container">
        <h1>Sistema de Gestión</h1>
        
        <div class="tabs">
            <button class="tab-btn active" data-tab="add">Add</button>
            <button class="tab-btn" data-tab="search">Search</button>
        </div>
        
        <!-- Formulario para agregar -->
        <div id="addTab" class="tab-content active">
            <form id="statusForm">
                <div class="form-group">
                    <label for="aNumber">A# (Formato: 123-123-123):</label>
                    <input type="text" id="aNumber" name="aNumber" placeholder="123-123-123" pattern="\d{3}-\d{3}-\d{3}" required>
                    <div class="hint">Formato requerido: 123-123-123</div>
                </div>
                
                <div class="form-group">
                    <label for="status">Status:</label>
                    <select id="status" name="status" required>
                        <option value="" disabled selected>Seleccionar status</option>
                        <option value="No drafted">No drafted</option>
                        <option value="Granted">Granted</option>
                        <option value="Denied">Denied</option>
                        <option value="On box">On box</option>
                        <option value="Uploaded">Uploaded</option>
                        <option value="Pending">Pending</option>
                    </select>
                </div>
                
                <div class="form-group checkbox-group">
                    <input type="checkbox" id="leaveNote" name="leaveNote">
                    <label for="leaveNote">¿Desea dejar una nota/recordatorio?</label>
                </div>
                
                <div id="noteSection" class="hidden">
                    <div class="form-group">
                        <label for="reminderDate">Fecha del recordatorio:</label>
                        <input type="date" id="reminderDate" name="reminderDate">
                    </div>
                    
                    <div class="form-group">
                        <label for="noteText">Nota (máximo 10 palabras):</label>
                        <textarea id="noteText" name="noteText" maxlength="100" rows="2"></textarea>
                        <div id="wordCount">0/10 palabras</div>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn">Guardar</button>
            </form>
        </div>
        
        <!-- Formulario para buscar y editar -->
        <div id="searchTab" class="tab-content">
            <div class="search-section">
                <div class="form-group search-container">
                    <input type="text" id="searchANumber" placeholder="Buscar por A# (123-123-123)" pattern="\d{3}-\d{3}-\d{3}">
                    <button id="searchBtn" class="btn">Buscar</button>
                </div>
                <div class="hint">Formato requerido: 123-123-123</div>
            </div>
            
            <div id="searchResults" class="hidden">
                <form id="editForm">
                    <input type="hidden" id="docId">
                    <div class="form-group">
                        <label for="editANumber">A# (Formato: 123-123-123):</label>
                        <input type="text" id="editANumber" name="editANumber" placeholder="123-123-123" pattern="\d{3}-\d{3}-\d{3}" required>
                        <div class="hint">Formato requerido: 123-123-123</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editStatus">Status:</label>
                        <select id="editStatus" name="editStatus" required>
                            <option value="No drafted">No drafted</option>
                            <option value="Granted">Granted</option>
                            <option value="Denied">Denied</option>
                            <option value="On box">On box</option>
                            <option value="Uploaded">Uploaded</option>
                            <option value="Pending">Pending</option>
                        </select>
                    </div>
                    
                    <div class="form-group checkbox-group">
                        <input type="checkbox" id="editLeaveNote" name="editLeaveNote">
                        <label for="editLeaveNote">¿Desea dejar una nota/recordatorio?</label>
                    </div>
                    
                    <div id="editNoteSection" class="hidden">
                        <div class="form-group">
                            <label for="editReminderDate">Fecha del recordatorio:</label>
                            <input type="date" id="editReminderDate" name="editReminderDate">
                        </div>
                        
                        <div class="form-group">
                            <label for="editNoteText">Nota (máximo 10 palabras):</label>
                            <textarea id="editNoteText" name="editNoteText" maxlength="100" rows="2"></textarea>
                            <div id="editWordCount">0/10 palabras</div>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button type="submit" class="submit-btn">Actualizar</button>
                        <button type="button" id="deleteBtn" class="delete-btn">Eliminar</button>
                    </div>
                </form>
            </div>
            
            <div id="noResults" class="hidden">
                <p>No se encontró ningún registro con ese A#.</p>
            </div>
        </div>
        
        <div id="message" class="message"></div>
    </div>

    <!-- Firebase -->
    <script type="module" src="../assets/js/mts.js"></script>
</body>
</html>